<!--
  Generated template for the PlanDetail page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{'pd.reference' | translate}}</ion-title>
  </ion-navbar>
  
  <div class="header-toolbox-edit">
    <button ion-button class="btn-header-custom-edit" (click)="gotoEdit()"><ion-icon name="refresh"></ion-icon>&nbsp;{{'pd.modify' | translate}}</button>
    <!--<button ion-button class="btn-header-custom" (click)="choose()"><ion-icon name="radio-button-on"></ion-icon>&nbsp;LÆ°u</button>-->
  </div>
</ion-header>


<ion-content>
  <div class="tour">
    <h3>{{plan.TOUR_NAME}}</h3>
    <p class="showCount"><ion-icon name="clock"></ion-icon>&nbsp;{{plan.TOTAL_NUMBER_DAY}} {{'pd.dayl' | translate}}</p>
    <p class="totalPlace"><ion-icon name="pin"></ion-icon>&nbsp;{{getTotalPlace()}} {{'pd.place' | translate}}</p>
    <p class="fDate"><ion-icon name="calendar"></ion-icon>&nbsp;{{'pd.arrivaldate' | translate}} {{datestartshow}}</p>
    <!--<p class="budget"><ion-icon name="cash"></ion-icon>&nbsp;{{plan.T_TOTAL}} VND</p>-->
  </div>

  <div class="clearfix"></div>

  <div class="plan-list">
    <div *ngIf="plan.LIST_PLACE_OF_TOUR_IN_DAY != null">
      <div class="plan-item" *ngFor="let item of plan.LIST_PLACE_OF_TOUR_IN_DAY" (click)="gotoPlanDayDetail(item)">
        <div class="plan-title">
          <h3 class="plan-date">
            {{'pd.dayu' | translate}} {{item.DAY}}
          </h3>
          
          <div class="plan-total"><ion-icon name="pin"></ion-icon>&nbsp;{{getPlanTotalLocation(item)}} {{'pd.place' | translate}}</div>
        </div>
        <div class="clearfix"></div>
        <div class="plan-content">
          <div class="plan-img" *ngFor="let planItem of item.LIST_DAY_DETAILS">
            <img src="{{planItem.LOCATION_AVATAR | imageUrl}}" onerror="this.src='assets/iconImages/noimage.png'" alt="{{'pd.repimg' | translate}}" />
          </div>
        </div>
        <div class="clearfix"></div>
        <div class="plan-footer">
          <button class="normal-link f-r"><ion-icon name="eye"></ion-icon> {{'pd.seemore' | translate}}</button>
        </div>
        <div class="clearfix"></div>
      </div>
    </div>
    <div *ngIf="plan.LIST_DAY_DETAILS == null">
      <div class="plan-item" *ngFor="let item of plan.LIST_DAY_DETAILS" (click)="gotoPlanDayDetail(item)">
        <div class="plan-title">
          <h3 class="plan-date">
            {{'pd.dayu' | translate}} {{item.DAY}}
          </h3>
          <div class="plan-total"><ion-icon name="pin"></ion-icon>&nbsp;{{getPlanTotalLocation(item)}} {{'pd.place' | translate}}</div>
        </div>
        <div class="clearfix"></div>
        <div class="plan-content">
          
        </div>
        <div class="clearfix"></div>
        <div class="plan-footer">
          <button class="normal-link f-r"><ion-icon name="eye"></ion-icon> {{'pd.seemore' | translate}}</button>
        </div>
        <div class="clearfix"></div>
      </div>
    </div>
  </div>
</ion-content>
